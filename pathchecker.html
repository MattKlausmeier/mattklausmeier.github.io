<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head>
<title>Sheep Game Path Checker</title>
<style>
	td {
		width: 50px;
		height: 50px;
		border: 1px solid black;
		text-align: center;
		font-size: 20px;
	}
	span {
		font-size: 12px;
	}
	body {
	  -moz-user-select: none;
	  -khtml-user-select: none;
	  -webkit-user-select: none;
	  user-select: none;
	}
</style>
</head>

<body>
<h2>O means path found, X means no path found</h2>
<h1>3x3</h1>
<table id="threeXthree">
	<tr>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, threeXthree);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, threeXthree);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, threeXthree);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, threeXthree);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, threeXthree);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, threeXthree);">R<br><span>Right</span></td>
		<td>Goal</td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, threeXthree);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, threeXthree);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, threeXthree);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
</table>
<h1>5x4</h1>
<table id="fiveXfour">
	<tr>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td>Goal</td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, fiveXfour);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
</table>
<h1>7x5</h1>
<table id="sevenXfive">
	<tr>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td>Goal</td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, sevenXfive);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
</table>
<h1>9x6</h1>
<table id="nineXsix">
	<tr>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td>Goal</td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td onclick="RotateLetter(this, nineXsix);">R<br><span>Right</span></td>
		<td></td>
	</tr>
	<tr>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
</table>
</body>

<script>
function RotateLetter(elem, id){
	if(elem.innerHTML[0] === "R"){
		elem.innerHTML = "L<br><span>Left</span>";
	}else if(elem.innerHTML[0] === "L"){
		elem.innerHTML = "B<br><span>Back</span>";
	}else if(elem.innerHTML[0] === "B"){
		elem.innerHTML = "";
	}else{
		elem.innerHTML = "R<br><span>Right</span>";
	}
	RecalculatePaths(id);
}
function RecalculatePaths(id){
	var rowcount = id.rows.length-2;
	var colcount = id.rows[0].cells.length-2;
	var originalArray = new Array(colcount);
	var goalrow = Math.round(id.rows.length / 2) - 1;
	for(var a = 0; a < colcount; a++){
		originalArray[a] = new Array(rowcount);
		for(var b = 0; b < rowcount; b++){
			originalArray[a][b] = id.rows[b+1].cells[a+1].innerHTML[0];
		}
	}
	//Top Row
	for(var c = 1; c < id.rows[0].cells.length-1; c++){
		var clone = CopyArray(originalArray);
		var direction = "D";
		var x = c-1;
		var y = 0;
		var keeplooping = true;
		while(keeplooping){
			direction = NewDirection(direction, clone[x][y]);
			delete clone[x][y];
			switch(direction){
				case "U":
					y -= 1;
					if(y < 0){
						//fail
						keeplooping = false;
						id.rows[0].cells[c].innerHTML = "X";
					}
					break;
				case "D":
					y += 1;
					if(y >= rowcount){
						//fail
						keeplooping = false;
						id.rows[0].cells[c].innerHTML = "X";
					}
					break;
				case "L":
					x -= 1;
					if(x < 0){
						//fail
						keeplooping = false;
						id.rows[0].cells[c].innerHTML = "X";
					}
					break;
				case "R":
					x += 1;
					if(x >= colcount){
						if(y == goalrow-1) {
							//win
							keeplooping = false;
							id.rows[0].cells[c].innerHTML = "O";
						} else {
							//fail
							keeplooping = false;
							id.rows[0].cells[c].innerHTML = "X";
						}
					}
					break;
			}
		}
	}
	//Sides
	for(var d = 1; d < id.rows.length-1; d++){
		//first cell
		var clone = CopyArray(originalArray);
		var direction = "R";
		var x = 0;
		var y = d-1;
		var keeplooping = true;
		while(keeplooping){
			direction = NewDirection(direction, clone[x][y]);
			delete clone[x][y];
			switch(direction){
				case "U":
					y -= 1;
					if(y < 0){
						//fail
						keeplooping = false;
						id.rows[d].cells[0].innerHTML = "X";
					}
					break;
				case "D":
					y += 1;
					if(y >= rowcount){
						//fail
						keeplooping = false;
						id.rows[d].cells[0].innerHTML = "X";
					}
					break;
				case "L":
					x -= 1;
					if(x < 0){
						//fail
						keeplooping = false;
						id.rows[d].cells[0].innerHTML = "X";
					}
					break;
				case "R":
					x += 1;
					if(x >= colcount){
						if(y == goalrow-1) {
							//win
							keeplooping = false;
							id.rows[d].cells[0].innerHTML = "O";
						} else {
							//fail
							keeplooping = false;
							id.rows[d].cells[0].innerHTML = "X";
						}
					}
					break;
			}
		}
		
		//last cell
		//If goal cell, return
		if(d == goalrow) continue;
		clone = CopyArray(originalArray);
		direction = "L";
		x = id.rows[0].cells.length-3;
		y = d-1;
		var keeplooping = true;
		while(keeplooping){
			direction = NewDirection(direction, clone[x][y]);
			delete clone[x][y];
			switch(direction){
				case "U":
					y -= 1;
					if(y < 0){
						//fail
						keeplooping = false;
						id.rows[d].cells[colcount+1].innerHTML = "X";
					}
					break;
				case "D":
					y += 1;
					if(y >= rowcount){
						//fail
						keeplooping = false;
						id.rows[d].cells[colcount+1].innerHTML = "X";
					}
					break;
				case "L":
					x -= 1;
					if(x < 0){
						//fail
						keeplooping = false;
						id.rows[d].cells[colcount+1].innerHTML = "X";
					}
					break;
				case "R":
					x += 1;
					if(x >= colcount){
						if(y == goalrow-1) {
							//win
							keeplooping = false;
							id.rows[d].cells[colcount+1].innerHTML = "O";
						} else {
							//fail
							keeplooping = false;
							id.rows[d].cells[colcount+1].innerHTML = "X";
						}
					}
					break;
			}
		}
	}
	//Bottom Row
	for(var e = 1; e < id.rows[0].cells.length-1; e++){
		var clone = CopyArray(originalArray);
		var direction = "U";
		var x = e-1;
		var y = rowcount - 1;
		var keeplooping = true;
		while(keeplooping){
			direction = NewDirection(direction, clone[x][y]);
			delete clone[x][y];
			switch(direction){
				case "U":
					y -= 1;
					if(y < 0){
						//fail
						keeplooping = false;
						id.rows[id.rows.length-1].cells[e].innerHTML = "X";
					}
					break;
				case "D":
					y += 1;
					if(y >= rowcount){
						//fail
						keeplooping = false;
						id.rows[id.rows.length-1].cells[e].innerHTML = "X";
					}
					break;
				case "L":
					x -= 1;
					if(x < 0){
						//fail
						keeplooping = false;
						id.rows[id.rows.length-1].cells[e].innerHTML = "X";
					}
					break;
				case "R":
					x += 1;
					if(x >= colcount){
						if(y == goalrow-1) {
							//win
							keeplooping = false;
							id.rows[id.rows.length-1].cells[e].innerHTML = "O";
						} else {
							//fail
							keeplooping = false;
							id.rows[id.rows.length-1].cells[e].innerHTML = "X";
						}
					}
					break;
			}
		}
	}
}
function NewDirection(oldDirection, currentSpot){
	switch(currentSpot){
		case "R":
			switch(oldDirection){
				case "U":
					return "R";
				case "D":
					return "L";
				case "L":
					return "U";
				case "R":
					return "D";
			}
		case "L":
			switch(oldDirection){
				case "U":
					return "L";
				case "D":
					return "R";
				case "L":
					return "D";
				case "R":
					return "U";
			}
		case "B":
			switch(oldDirection){
				case "U":
					return "D";
				case "D":
					return "U";
				case "L":
					return "R";
				case "R":
					return "L";
			}
		case undefined:
			return oldDirection;
	}
}
function CopyArray(oldArray){
	var newArray = [];
	for(var a = 0; a < oldArray.length; a++)
	{
		if (oldArray[a] instanceof Array) {
			newArray[a] = new Array();
			newArray[a] = CopyArray(oldArray[a]);
		} else {
			newArray[a] = oldArray[a];
		}
	}
	return newArray;
}
RecalculatePaths(document.getElementById("threeXthree"));
RecalculatePaths(document.getElementById("fiveXfour"));
RecalculatePaths(document.getElementById("sevenXfive"));
RecalculatePaths(document.getElementById("nineXsix"));
</script>
</html> 